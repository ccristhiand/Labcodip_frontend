
<app-spinner></app-spinner>
<div [formGroup]="form" #frmGrupo="ngForm">
<div

    [class]="'login-body flex min-h-screen  '+(_layoutService.config().colorScheme === 'light' ? 'layout-light':'layout-dark')">
    <div class="login-image w-6 h-screen hidden md:block" style="max-width: 490px;">
        <img [src]="'assets/layout/images/pages/login-'+ (_layoutService.config().colorScheme === 'dark' ? 'ondark' : 'onlight') + '.png'"
            alt="atlantis" class=" h-screen w-full">
    </div>
    <div class="login-panel w-full" style="background:var(--surface-ground)">
        <div class="p-fluid min-h-screen bg-auto md:bg-contain bg-no-repeat text-center w-full flex align-items-center md:align-items-start justify-content-center flex-column bg-auto md:bg-contain bg-no-repeat"
            style=" padding: 20% 10% 20% 10%;background:var(--exception-pages-image)">
            <div class="flex flex-column">
                <div class="flex align-items-center mb-6 logo-container">
                    <img [src]="'assets/layout/images/logo-'+ (_layoutService.config().colorScheme === 'light' ? 'dark' : 'light') + '.png'"
                        class="login-logo" style=" width: 40px;" />
                    <label style="color: white ;margin-left: 5px;margin-top: 6px; font-size: 3em; "><b>LabCodip</b></label>
                </div>
                <div class="form-container">
                    <p-toast key="tst"></p-toast>
                    <span class="p-input-icon-left">
                        <i class="pi pi-envelope"></i>
                        <input type="text" autocomplete="off" pInputText placeholder="Email" class="block mb-3" formControlName="userName" style="   max-width: 320px;
                    min-width: 270px;">
                    </span>

                    <span class="p-input-icon-left">
                        <i class="pi pi-key"></i>
                        <input 
                            [type]="showPassword ? 'text' : 'password'" 
                            autocomplete="off" 
                            pInputText 
                            placeholder="Password" 
                            formControlName="password" 
                            class="block mb-3" 
                            style="max-width: 320px; min-width: 270px;"
                            (keydown.enter)="login()" 
                        />
                        <i 
                            class="pi" 
                            [ngClass]="showPassword ? 'pi-eye-slash' : 'pi-eye'" 
                            (click)="togglePasswordVisibility()"
                            style="cursor: pointer; position: absolute; right: 10px;"
                        ></i>
                    </span>

                    <!-- <a href="#" class="flex text-color-secondary mb-4 text-sm">¿Olvidaste tu contraseña?</a> -->
                </div>
                <br>
                <div class="button-container">
                    <button type="button" pButton label="Iniciar Sesión" (click)="login()" class="block" style="max-width: 320px;
                margin-bottom: 32px;"></button>
                    <!-- <span class="flex text-sm text-color-secondary">Don’t have an account?<a
                            class="cursor-pointer ml-1">Sign-up here</a></span> -->
                </div>
            </div>

            <div class="login-footer flex align-items-center absolute" style="bottom: 75px;">
                <div
                    class="flex align-items-center login-footer-logo-container pr-4 mr-4 border-right-1 surface-border">
                    <img src="assets/layout/images/logo-gray.png" class="login-footer-logo" style="width: 22px;" />
                    <h5 style="color: purple;">LabCodip</h5>
                </div>
                <span class="text-sm text-color-secondary mr-3">Copyright 2024</span>
            </div>
        </div>
           
        </div>
    </div>
</div>

<p-dialog header="Confirmar Cierre de Sesión" [(visible)]="displayModal" [modal]="true" [closable]="false">
    <p>Tu sesión ha sido iniciada en otro navegador. ¿Deseas cerrar esta sesión?</p>
    <p-footer>
      <button type="button" pButton label="Cerrar sesión" (click)="logout()" icon="pi pi-times"></button>
      <button type="button" pButton label="Seguir conectado" (click)="stayLoggedIn()" icon="pi pi-check"></button>
    </p-footer>
  </p-dialog>
  